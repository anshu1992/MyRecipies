
<%= render "shared/errors", obj: @recipe %>

<div class="row">
  <div class="well col-md-6 col-md-offset-3">
    <%= form_for(@recipe, html: { multipart: true})  do |f| %>
    
      <div class="field form-group">
        <%= f.label :name %><br />
        <%= f.text_field :name, autofocus: true, class: 'form-control' %>
      </div>
      
      <div class="field form-group">
        <%= f.label :summary %><br />
        <%= f.text_field :summary, autofocus: true, class: 'form-control' %>
      </div>
      
      <div class="field form-group">
        <%= f.label :description %><br />
        <%= f.text_area :description, autofocus: true, class: 'form-control', rows: 10 %>
      </div>
      <div class="field form-group">
        <span class = "picture">
          <%= f.file_field :picture, accept: "image/jpeg, image/gif. image/png", class: "form-control" %>
        </span>
      </div>
      
      
      <div class="actions form-group">
        <%= f.submit(@recipe.new_record? ? "Create Recipe" : "Edit Recipe", class: "btn btn-success") %>
      </div>
    <%end%>
  </div>
</div>

<script type="text/javascript">
  $('#recipe_picture').bind('change', function(){
    size_in_megabytes = this.files[0].size/1024/1024;
    if(size_in_megabytes > 5) {
      alert("Maximum file size is 5MB. Please choose a smaller file.");
    }
  });
</script>